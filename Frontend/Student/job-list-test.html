<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Job List Test</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="navbar">
        <div class="logo">Student Panel</div>
        <div class="navbar-right">
            <button id="logout" class="logout-btn">Logout</button>
        </div>
    </div>
    
    <div class="sidebar">
        <a href="dashboard.html">Dashboard</a>
        <a href="job-list.html">Jobs</a>
        <a href="applied-jobs.html">Applied Jobs</a>
        <a href="profile.html">Profile</a>
        <button id="logout-btn" class="logout-btn">Logout</button>
    </div>

    <div class="main-content">
        <h1>Available Jobs</h1>

        <div class="card">
            <h3>Filter Jobs</h3>
            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 15px; margin-bottom: 15px;">
                <input type="text" id="jobTitle" placeholder="Job Title">
                <input type="text" id="company" placeholder="Company">
                <input type="text" id="location" placeholder="Location">
                <input type="text" id="skills" placeholder="Skills">
                <select id="salaryRange">
                    <option value="">All Salary Ranges</option>
                    <option value="0-30000">Under $30,000</option>
                    <option value="30000-50000">$30,000 - $50,000</option>
                    <option value="50000-70000">$50,000 - $70,000</option>
                    <option value="70000-100000">$70,000 - $100,000</option>
                    <option value="100000+">$100,000+</option>
                </select>
                <select id="jobType">
                    <option value="">All Job Types</option>
                    <option value="full-time">Full Time</option>
                    <option value="part-time">Part Time</option>
                    <option value="contract">Contract</option>
                    <option value="internship">Internship</option>
                </select>
            </div>
            <div style="display: flex; gap: 10px; flex-wrap: wrap;">
                <button id="applyFilters" class="btn">Apply Filters</button>
                <button id="clearFilters" class="btn">Clear Filters</button>
                <button id="saveFilters" class="btn">Save Filters</button>
            </div>
            <div id="activeFilters" style="margin-top: 10px; font-size: 14px; color: #64ffda;"></div>
        </div>

        <div id="job-list"></div>
    </div>

    <script>
        // Simplified version without auth check for testing
        console.log("Test script loaded");

        function setupLogout() {
            console.log("Logout clicked");
            alert("Logout clicked!");
        }

        function applyFilters() {
            console.log("Apply Filters clicked");
            const filters = {
                jobTitle: document.getElementById("jobTitle")?.value.trim() || "",
                company: document.getElementById("company")?.value.trim() || "",
                location: document.getElementById("location")?.value.trim() || "",
                skills: document.getElementById("skills")?.value.trim() || "",
                salaryRange: document.getElementById("salaryRange")?.value || "",
                jobType: document.getElementById("jobType")?.value || "",
            };
            console.log("Filters:", filters);
            document.getElementById("activeFilters").innerHTML = `<span>Filters applied: ${JSON.stringify(filters)}</span>`;
        }

        function clearFilters() {
            console.log("Clear Filters clicked");
            const filterFields = ["jobTitle", "company", "location", "skills", "salaryRange", "jobType"];
            filterFields.forEach(fieldId => {
                const element = document.getElementById(fieldId);
                if (element) element.value = "";
            });
            document.getElementById("activeFilters").innerHTML = "";
        }

        function saveFilters() {
            console.log("Save Filters clicked");
            const filters = {
                jobTitle: document.getElementById("jobTitle")?.value.trim() || "",
                company: document.getElementById("company")?.value.trim() || "",
                location: document.getElementById("location")?.value.trim() || "",
                skills: document.getElementById("skills")?.value.trim() || "",
                salaryRange: document.getElementById("salaryRange")?.value || "",
                jobType: document.getElementById("jobType")?.value || "",
            };
            localStorage.setItem('jobFilters', JSON.stringify(filters));
            document.getElementById("activeFilters").innerHTML = '<span style="color: #52d8c7;">âœ“ Filters saved!</span>';
        }

        document.addEventListener("DOMContentLoaded", () => {
            console.log("DOM loaded - setting up event listeners");
            
            // Setup logout buttons
            const logoutBtn = document.getElementById('logout');
            if (logoutBtn) {
                console.log("Found logout button");
                logoutBtn.addEventListener("click", setupLogout);
            } else {
                console.error("Logout button not found");
            }

            const logoutBtnSidebar = document.getElementById('logout-btn');
            if (logoutBtnSidebar) {
                console.log("Found logout-btn button");
                logoutBtnSidebar.addEventListener("click", setupLogout);
            } else {
                console.error("Logout-btn button not found");
            }

            // Setup filter buttons
            const applyFiltersBtn = document.getElementById("applyFilters");
            if (applyFiltersBtn) {
                console.log("Found applyFilters button");
                applyFiltersBtn.addEventListener("click", applyFilters);
            } else {
                console.error("ApplyFilters button not found");
            }

            const clearFiltersBtn = document.getElementById("clearFilters");
            if (clearFiltersBtn) {
                console.log("Found clearFilters button");
                clearFiltersBtn.addEventListener("click", clearFilters);
            } else {
                console.error("ClearFilters button not found");
            }

            const saveFiltersBtn = document.getElementById("saveFilters");
            if (saveFiltersBtn) {
                console.log("Found saveFilters button");
                saveFiltersBtn.addEventListener("click", saveFilters);
            } else {
                console.error("SaveFilters button not found");
            }

            console.log("Event listeners setup complete");
        });
    </script>
</body>
</html>